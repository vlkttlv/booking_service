{% extends "base.html" %}

{% block head %}
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<link rel="stylesheet" href="{{ url_for('static', path='style/bookings.css') }}">
<script>
    async function loginUser() {
        const url = "http://localhost:8000/api/v1/auth/logout";
        const bookingId = document.getElementById("bookingId").value;
        
        await fetch(url, {
                method: 'POST',
                headers: {'Content-Type': 'application/json'}, 
                body: JSON.stringify({email: email, password: password}),
            }).then(response => {
                if (response.status === 200) {
                    window.location.href = "/pages/bookings"
                } else {
                    wrongCredentialsSpan.textContent = "–ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å";
                }
            });
        }
        </script>
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

{% endblock %}

{% block content %}
<div class="hotel-list"> 
    {% for booking in bookings %}
    <div class="hotel-card">

        <div class="hotel-images">
            <div id="carouselExample" class="carousel slide" data-ride="carousel">
              <div class="carousel-inner">
                <div class="carousel-item active">
                  <img src="{{ url_for('static', path='images/rooms/' + booking.room_id|string + '_1.webp') }}" alt="image_1" class="d-block w-100" width="200" height="200">
                </div>
                <div class="carousel-item">
                  <img src="{{ url_for('static', path='images/rooms/' + booking.room_id|string + '_2.webp') }}" alt="image_2" class="d-block w-100" width="200" height="200">
                </div>
                <div class="carousel-item">
                  <img src="{{ url_for('static', path='images/rooms/' + booking.room_id|string + '_3.webp') }}" alt="image_3" class="d-block w-100" width="200" height="200">
                </div>
              </div>
              <a class="carousel-control-prev" href="#carouselExample" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
              </a>
              <a class="carousel-control-next" href="#carouselExample" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
              </a>
            </div>
          </div>

      <div class="hotel-info">
        <h2 class="hotel-name">{{ booking.name }}</h2>
        {% if booking.description %}
        <div >{{ booking.description }}</div>
        {% endif %}
        <div >{{ " ¬∑ ".join(booking.services) }}</div>
        <div>
            <span>‚úÖ –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–æ</span>
            <span>—Å {{ booking.date_from }}</span>
            <span>–ø–æ {{ booking.date_to }}</span>
        </div>
        <div >
            <span >üíµ {{ booking.total_cost }} —Ä—É–±–ª–µ–π </span>
            <span>–∑–∞ {{ booking.total_days }} –Ω–æ—á–µ–π</span>
            <span hidden id="bookingId">{{ booking.id }}</span>
        </div>
        <button class="book-button">–û—Ç–º–µ–Ω–∏—Ç—å –±—Ä–æ–Ω—å</button>
      </div>

    </div>
    {% endfor %}
  </div>

<!-- 
<div class="flex flex-col items-center">
    {% for booking in bookings %}
        <div>
            <div class="text-2xl font-bold mb-5">
                <span>{{ booking.hotel_name }}</span>
            </div>
            <div class="flex shadow-md mb-5 w-fit pr-4">
                <img src="{{ url_for('static', path='images/' + booking.image_id|string + '.webp') }}" alt="–ö–æ–º–Ω–∞—Ç–∞" width="250">
                <div class="px-4 py-3">
                    <div class="pl-1 font-bold">{{ booking.name }}</div>
                    <hr class="my-2">
                    {% if booking.description %}
                        <div class="mb-2 pl-1 max-w-xs">{{ booking.description }}</div>
                    {% endif %}
                    <div class="pl-1">{{ " ¬∑ ".join(booking.services) }}</div>
                </div>
                <div class="flex justify-top flex-col items-center">
                    <span>‚úÖ –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–æ</span>
                    <span>–° {{ booking.date_from }}</span>
                    <span>–ü–æ {{ booking.date_to }}</span>
                    <span class="font-bold text-3xl">{{ booking.total_cost }}</span>
                    <span class="mb-3">–∑–∞ {{ booking.total_days }} –Ω–æ—á–µ–π</span>
                    <span hidden id="bookingId">{{ booking.id }}</span>
                    <button class="text-lg bg-red-400 px-3 py-1 rounded-3xl mb-4">–û—Ç–º–µ–Ω–∏—Ç—å –±—Ä–æ–Ω—å</button>
                </div>
            </div>
        </div>
    {% endfor %} -->
<!-- </div> -->



{% endblock %}